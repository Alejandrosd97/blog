---
title: 'NETWORKING'
description: 'Lorem ipsum dolor sit amet'
pubDate: 'Jul 08 2022'
heroImage: '/blog-placeholder-3.jpg'
---



Node ofrece el módulo net para trabajar con el protocolo net. Este es el nivel mas bajo sobre el que se puede trabajar en node. Con el método net.createServer() se puede crear un servidor TCP. Recibe un callback al cual se le pasa el argumento socket. Este objeto socket se crea cada vez que alguien se conecta a al servidor, se trata de un stream de tipo duplex, es decir, permite enviar y recibir información. A la hora de recibir información, se puede manejar con el evento ‘data’, igual que los streams de lectura.

La capa de network (3) es la que trabaja con direcciones Ip. Recibe un mensaje, lo convierte en paquetes y lo distribuye en paquetes a través de la red. Pero en esta capa no hay posibilidad de comprobar que la información se ha transmitido correctamente o que no se haya corrompido. Este es el propósito de la capa 4 (transporte). Es aquí donde tiene lugar el protocolo TCP, y además añade los puertos a los paquetes. El propósito de TCP es asegurarse de que la información es recibida tal cual es. El otro protocolo que opera en esta capa es UDP, en este caso simplemente se envía la información y ya está, pero no se asegura de que llegue correctamente. Se usa normalmente en servicios de streaming porque hace menos trabajo y por lo tanto es mucho mas rápido, aunque a veces se pierda algo de información. HTTP y SSH están condtruidos sobre TCP. Los paquetes que se envían por TCP están numerados, de manera que es fácil saber cuando uno no ha llegado, en cuyo caso se volverá a transmitir. Para conocer la dirección Ip dentro de la red local se puede ejecutar el comando Ip a en la terminal. Normalmente los puertos desde el 0 hasta el 1023 suelen pertenecer al sistema, técnicamente se pueden usar esos puertos si se hace usando el comando sudo, pero no es recomendable ya que puede interferir con otras aplicaciones.

El módulo net ofrece dos funciones muy importantes para trabajar con TCP, net.createServer() y net.createConnection(). En el caso de la primera, se crea una instancia de la clase Server, que escucha eventos como 'listen' o 'connection'. Este servidor, al capturar los evento, le pasa al callback como parámetro un objeto socket, instancia de la clase Socket. Este socket es creado por la función createConnection(). Este socket es un stream a través del cual el servidor puede enviar información usando el método socket.write(). En programación se conoce como socket a dos endpoints que pueden comunicarse entres sí. Al usar socket.write() para enviar el mensaje se puede enviar un string directamente pero luego es necesario convertirlo en string usando data.toString(‘utf8’).